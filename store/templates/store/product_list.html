
{% extends 'store/base.html' %}
{% block content %}
<h1 class="mb-3">Products</h1>
<div class="row row-cols-1 row-cols-md-4 g-4">
  {% for p in products %}
  <div class="col">
    <div class="card h-100">
      {% if p.image %}
      <img src="{{ p.image.url }}" class="card-img-top" alt="{{ p.name }}">
      {% endif %}
      <div class="card-body">
        <h5 class="card-title">{{ p.name }}</h5>
        <p class="card-text">â‚¬{{ p.price }}</p>
        <a class="btn btn-success" href="{% url 'product_detail' p.pk %}">View</a>
      </div>
    </div>
  </div>
  {% empty %}
  <p>No products yet.</p>
  {% endfor %}
</div>
<nav class="mt-4">
  <ul class="pagination">
    {% if products.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ products.previous_page_number }}&q={{ q }}">Previous</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Page {{ products.number }} of {{ products.paginator.num_pages }}</span></li>
    {% if products.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ products.next_page_number }}&q={{ q }}">Next</a></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
